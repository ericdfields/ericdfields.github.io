---
import { Image } from "astro:assets";
import Logo from "@/images/logo1.png";
---

<header class="fixed top-0 left-0 w-full z-50">
  <div class="relative z-20 md:grid md:grid-cols-12 py-8">
    <nav class="absolute top-0 md:relative z-30 md:col-span-4" id="nav">
      <ul
        class="flex sm:flex-col md:flex-row md:h-full gap-8 items-center align-middle justify-center"
      >
        <li>
          <a class="md:text-white md:text-lg uppercase" href="/about">About</a>
        </li>
        <li>
          <a class="md:text-white md:text-lg uppercase" href="/portfolio"
            >Services</a
          >
        </li>
        <li>
          <a class="md:text-white md:text-lg uppercase" href="/contact"
            >Contact</a
          >
        </li>
      </ul>
    </nav>
    <a href="#" class="relative z-40 block md:col-span-4" data-nav-toggle>
      <Image
        src={Logo}
        alt="Logo for Creative Outcomes"
        class="logo-image max-w-[450px] mx-auto"
      /></a
    >
  </div>
</header>

<style is:global>
  body.index header {
    background: rgba(255, 255, 255, 0);
    transition: all 0.5s;
  }
  body.index .logo-image {
    filter: invert(1);
  }
  body.index.nav-opaque header {
    background: rgba(255, 255, 255, 1);
  }
  body.index.nav-opaque li a {
    color: black;
  }
  body.index.nav-opaque .logo-image {
    filter: invert(0);
  }
  .mobile nav {
    width: 100%;
    display: none;
    align-items: center;
    background: rgba(255, 255, 255, 1);
    text-align: center;
    height: 100vh;
  }
  .mobile.show-nav nav {
    display: flex;
  }
  .show-nav {
    overflow: hidden;
  }
  .mobile nav ul {
    width: 100%;
    height: 100%;
  }
  .mobile nav li {
    display: block;
    width: 100%;
  }
  .mobile nav a {
    font-size: 8rem;
    font-weight: 300;
  }
</style>

<script>
  const navToggle = document.querySelector("[data-nav-toggle]");
  navToggle.addEventListener("click", (event) => {
    event.preventDefault();
    if (window.innerWidth <= 768) {
      const body = document.body;
      body.classList.toggle("show-nav");
    }
  });
</script>
